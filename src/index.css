@tailwind base;
@tailwind components;
@tailwind utilities;

/* Buttons */
.btn {
  @apply px-4 py-2 rounded-lg font-medium transition-all duration-300;
}
.btn-primary {
  @apply bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white;
}
.btn-primary:hover {
  @apply scale-105 shadow-xl;
}

/* Liquid glass card style */
.liquid-card {
  position: relative;
  isolation: isolate;
}
.liquid-card::before {
  content: "";
  position: absolute;
  inset: -2px;
  z-index: -1;

  filter: blur(30px);
  border-radius: 1.5rem;
  /* animation: spin 15s linear infinite; */
}
.liquid-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 1.5rem;
}

@layer components {
  .liquid-card {
    /* Base look handled by Tailwind classes in HTML.
       Here we add extra effects via pseudo-elements. */
    position: relative;
    isolation: isolate; /* ensures blend effects don't leak */
    transform-style: preserve-3d;
    will-change: transform, opacity;
    transition: transform 400ms cubic-bezier(0.2, 0.8, 0.2, 1), box-shadow 400ms;
  }

  /* Soft hover lift */
  .liquid-card:hover {
    transform: translateY(-2px);
  }

  /* Glow ring outside the card */
  .liquid-card::before {
    content: "";
    position: absolute;
    inset: -2px;
    z-index: -1;

    filter: blur(18px);
    opacity: 0.55;
    border-radius: 1.5rem;
    /* animation: spin 14s linear infinite; */
  }

  /* Liquid blobs behind content */
  .liquid-card::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 1.5rem;

    mix-blend-mode: screen;
    filter: saturate(1.2) blur(0.2px);
    animation: blobs 10s ease-in-out infinite;
    opacity: 0.9;
    pointer-events: none;
  }

  /* Subtle glass shine on hover (moves diagonally) */
  .liquid-card .shine {
    /* (optional child if you want a separate shine layer) */
  }

  /* Add a moving highlight strip on hover using a child gradient */
  .liquid-card::marker {
    /* noop to avoid warnings in some build chains */
  }
}

/* Optional: add a diagonal moving shine using a child element if needed
   <div class="shine"></div> inside .liquid-card
   But we'll do it with a gradient mask on hover using :has (progressive);
   If your build doesn't support :has, you can skip this block. */
@supports (selector(:has(*))) {
  .liquid-card:has(:hover) {
    box-shadow: 0 10px 40px -10px rgba(99, 102, 241, 0.35),
      0 20px 60px -25px rgba(236, 72, 153, 0.35);
  }
}

/* Keyframes */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes blobs {
  0%,
  100% {
    transform: translateZ(0) rotate(0deg) scale(1);
    background-position: 0% 0%, 100% 0%, 50% 100%;
  }
  33% {
    transform: translateZ(0) rotate(1deg) scale(1.01);
    background-position: 10% 5%, 90% 10%, 60% 90%;
  }
  66% {
    transform: translateZ(0) rotate(-1deg) scale(0.995);
    background-position: 0% 10%, 95% 0%, 45% 95%;
  }
}
